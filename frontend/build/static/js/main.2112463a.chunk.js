(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{114:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(25),i=a.n(s),l=a(1),o=a(2),c=a(4),u=a(3),m=a(5),h=(a(93),a(7)),d=a(10),p=a(15),g=a.n(p),b=a(23),f=a(24),E=(a(114),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={items:[]},a.handleLogout=a.handleLogout.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleLogout",value:function(e){e.preventDefault(),this.props.logout()}},{key:"updateLinks",value:function(e){e?this.setState({items:[{link:"/dashboard",text:"dashboard"},{type:"logout"}]}):this.setState({items:[{link:"/login",text:"log in"},{link:"/register",text:"register"}]})}},{key:"componentWillReceiveProps",value:function(e){this.updateLinks(e.isAuthenticated)}},{key:"componentDidMount",value:function(){this.updateLinks(this.props.isAuthenticated)}},{key:"render",value:function(){var e=this;return r.a.createElement("header",null,r.a.createElement("nav",{className:"nav"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(b.b,{className:"nav-brand",to:"/"},"digital white board")),this.state.items.map(function(t){return"logout"===t.type?r.a.createElement("li",{key:"logout"},r.a.createElement("a",{href:"/",onClick:e.handleLogout},"logout")):r.a.createElement("li",{key:t.link},r.a.createElement(b.b,{to:t.link,onClick:t.onClick},t.text))}))))}}]),t}(n.Component)),v=Object(d.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}},{logout:function(){return function(e){e({type:"SET_AUTHENTICATED",payload:!1})}}})(Object(f.b)(E)),y=(a(116),a(117),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"alert alert-".concat(this.props.type)},r.a.createElement("h3",null,this.props.title),r.a.createElement("p",null,this.props.text))}}]),t}(n.Component)),O=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"title"},r.a.createElement("h1",null," dwb "),r.a.createElement("h2",null," your collaborative assignment manager "),r.a.createElement("h3",null,"beta v0.4")),r.a.createElement("div",{className:"features"},r.a.createElement("h2",{className:"section-header"},"features"),r.a.createElement("div",{className:"feature"},r.a.createElement("h3",null,"collaboration"),r.a.createElement("i",{className:"fas fa-users"}),r.a.createElement("span",null,"you and your team share assignments that are relevant to everyone. so only one team member has to add assignments but everyone profits by saving time")),r.a.createElement("div",{className:"feature"},r.a.createElement("h3",null,"saving time"),r.a.createElement("i",{className:"fas fa-mug-hot"}),r.a.createElement("span",null,"due to the fact that assignments are shared and only one person has to add an assignment everyone else profits by saving time on more important things ;)")),r.a.createElement("div",{className:"feature"},r.a.createElement("h3",null,"saving money i guess...?"),r.a.createElement("i",{className:"fas fa-money-bill-wave"}),r.a.createElement("span",null,"our service is entirely free. no one has to pay anything. lol"))),r.a.createElement("div",{className:"trusted-by"},r.a.createElement("h2",{className:"section-header"},"trusted by"),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"wrapper-item"},r.a.createElement("span",null,"Syrischer Verein zur Vernichtung des deutschen Volkes e. V.")),r.a.createElement("div",{className:"wrapper-item"},r.a.createElement("span",null,"Bernd H\xf6cke")),r.a.createElement("div",{className:"wrapper-item"},r.a.createElement("span",null,"Tilman Knechtel")))),r.a.createElement("div",{className:"team"},r.a.createElement("h2",{className:"section-header"},"team"),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"wrapper-item"},r.a.createElement("h3",null,r.a.createElement("span",{role:"img","aria-label":"raus geht kuss"},"\ud83e\udd86")),r.a.createElement("span",null,"mag brotkr\xfcmel")),r.a.createElement("div",{className:"wrapper-item"},r.a.createElement("h3",null,r.a.createElement("span",{role:"img","aria-label":"slatt"},"\ud83e\udd5a\u26f0")),r.a.createElement("span",{role:"img","aria-label":","},r.a.createElement("b",null,"S"),"lime ",r.a.createElement("b",null,"L"),"ove ",r.a.createElement("b",null,"A"),"ll ",r.a.createElement("b",null,"T"),"he ",r.a.createElement("b",null,"T"),"ime")),r.a.createElement("div",{className:"wrapper-item"},r.a.createElement("h3",null,r.a.createElement("span",{role:"img","aria-label":"entfernen"},"\u2600\ufe0f\u26f0")),r.a.createElement("span",null,"hat einen verbreiteten namen")))))}}]),t}(n.Component),j=a(11),k=(a(34),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).eyeStyle={color:"#3498db",position:"absolute",top:"4.2em",right:"2.2em",fontSize:"18pt",cursor:"pointer",transition:"0.2s ease-out"},a.state={hidden:!0,password:"",isEyeClassSlash:!1},a.handlePasswordChange=a.handlePasswordChange.bind(Object(h.a)(a)),a.toggleShow=a.toggleShow.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handlePasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"toggleShow",value:function(){this.setState({hidden:!this.state.hidden,isEyeClassSlash:this.state.hidden})}},{key:"componentDidMount",value:function(){this.props.password&&this.setState({password:this.props.password})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("input",{type:this.state.hidden?"password":"text",onChange:this.props.onChange,placeholder:"password",autoComplete:"off",id:"password",required:!0}),r.a.createElement("i",{onClick:this.toggleShow,style:this.eyeStyle,className:this.state.isEyeClassSlash?"fa fa-eye":"fa fa-eye-slash"}))}}]),t}(n.Component)),w=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},a.handleChange=a.handleChange.bind(Object(h.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(j.a)({},e.target.id,e.target.value)),console.log(this.state)}},{key:"handleSubmit",value:function(e){e.preventDefault(),console.log(this.state),this.props.login(this.state)}},{key:"componentWillReceiveProps",value:function(e){e.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"render",value:function(){return r.a.createElement("div",{className:"main"},this.props.error?r.a.createElement(y,{title:"error",text:this.props.error,timeout:5}):null,r.a.createElement("div",{className:"logo"},r.a.createElement("h3",null,"dwb")),r.a.createElement("form",{onSubmit:this.handleSubmit,autoComplete:"off"},r.a.createElement("input",{id:"username",onChange:this.handleChange,type:"username",placeholder:"username",required:!0}),r.a.createElement("i",{className:"fa fa-user"}),r.a.createElement("i",{className:"fa fa-lock"}),r.a.createElement(k,{onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Log In"}),r.a.createElement("h4",null,"Not Registered? \xa0",r.a.createElement("a",{href:"/#/register",className:"CreateAcc"},"Create an Account"))))}}]),t}(n.Component),C=Object(d.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated,error:e.errors.login}},{login:function(e){return function(t){g.a.post(ue+"/user/login/",JSON.stringify(e),{withCredentials:!0}).then(function(e){t({type:"LOGIN"})}).catch(function(e){console.log(e),t({type:"GET_ERROR",payload:{type:"login",status:e.response.status}})})}}})(w),S=a(83),N=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onChange=function(e){var t=e.target.value;a.setState({value:t,copied:!1})},a.onClick=function(e){var t=e.target.innerHTML;console.log('Click on "'.concat(t,'"'))},a.state={isGen:!1,value:"",copied:!1},a.generatePw=a.generatePw.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"generatePw",value:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!$%&/=?*+#",a=0;a<t.length;a++){var n=new Uint8Array(1);e+=t.charAt(crypto.getRandomValues(n))}var s=e.substring(0,10);this.setState({isGen:!0,value:s,copied:!1});var l=r.a.createElement("p",null,"generated password: "+s);i.a.render(l,document.getElementById("passw"))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"pwDiv"},r.a.createElement("h3",null,"Don't have an idea for a password? Generate a very secure one."),r.a.createElement("div",null,this.state.isGen?r.a.createElement("div",null,r.a.createElement(S.CopyToClipboard,{text:this.state.value,onCopy:function(){return e.setState({copied:!0})}},r.a.createElement("button",null,"Copy to clipboard"))):r.a.createElement("button",{type:"button",onClick:this.generatePw},"Generate"),r.a.createElement("p",{id:"passw",value:this.state.value,onChange:function(t){var a=t.target.value;return e.setState({value:a,copied:!1})}}),this.state.copied?r.a.createElement("div",null,r.a.createElement("span",null,"Copied.")):null)))}}]),t}(n.Component);function T(e){return e.error?r.a.createElement(y,{text:e.error,title:"error"}):null}var A=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},a.handleChange=a.handleChange.bind(Object(h.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(j.a)({},e.target.id,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault(),console.log(this.state),this.props.register(this.state)}},{key:"componentWillReceiveProps",value:function(e){console.log(e),e.isAuthenticated&&this.props.history.push("/dashboard"),this.setState({error:e.error})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(T,{error:this.state.error}),r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"logo"},r.a.createElement("h3",null,"dwb")),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{id:"username",onChange:this.handleChange,type:"username",placeholder:"username",autoComplete:"off",required:!0}),r.a.createElement("i",{className:"fa fa-user"}),r.a.createElement("i",{className:"fa fa-lock"}),r.a.createElement(k,{onChange:this.handleChange}),r.a.createElement("input",{type:"submit",value:"Sign up"}))),r.a.createElement(N,null))}}]),t}(n.Component),D=Object(d.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated,error:e.errors.errors.register}},{register:function(e){return function(t){g.a.post(ue+"/user/register",JSON.stringify(e),{withCredentials:!0}).then(function(e){t({type:"REGISTER"})}).catch(function(e){console.log(e.response),t({type:"GET_ERROR",payload:{type:"register",status:e.response.status}})})}}})(A),_=(a(121),a(8)),R=(a(122),["deutsch \ud83c\udde9\ud83c\uddea","erdkunde \ud83d\uddfa","geschichte \ud83c\udfdb\ufe0f","politik \ud83c\udf0d","mathematik \u2797","biologie \ud83e\uddec","physik \u269b\ufe0f","chemie \ud83e\uddea","englisch \ud83c\uddfa\ud83c\uddf8","kunst \ud83c\udfa8\udb40\udc67\udb40\udc62\udb40\udc65","musik \ud83c\udfb9","katholische religion \u271d\ufe0f","evangelische religion \u271d\ufe0f","philosophie \ud83d\uddff","sport \ud83c\udfc3\u200d","informatik \ud83d\udc7e","culture studies \ud83c\uddec\ud83c\udde7","spanisch \ud83c\uddea\ud83c\uddf8","\xf6kologie \ud83c\udf33","sonstiges \ud83c\udf4c"].sort()),M=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a.handleChange=a.handleChange.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(j.a)({},e.target.id,e.target.value)),console.log(this.state)}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({due_date:Date.parse(this.state.due_date)}),this.props.createAssignment(Object(_.a)({},this.state,{author_name:this.props.username}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"assignmentForm"},r.a.createElement("h3",{className:"container-headline"}," create assignment "),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("select",{onChange:this.handleChange,id:"subject",required:!0,defaultValue:""},r.a.createElement("option",{value:"",disabled:!0},"select your subject"),R.map(function(e){return r.a.createElement("option",{key:e},e)})),r.a.createElement("input",{placeholder:"\xa0text",id:"text",onChange:this.handleChange,autoComplete:"off",required:!0}),r.a.createElement("input",{type:"date",placeholder:"due date",id:"due_date",onChange:this.handleChange,autoComplete:"off"}),r.a.createElement("input",{type:"submit",value:"send"})))}}]),t}(n.Component),I=Object(d.b)(function(e){return{username:e.auth.user.username}},{createAssignment:function(e){return function(t){e.due_date=new Date(e.due_date),g.a.post(ue+"/assignment/",JSON.stringify(e),{withCredentials:!0}).then(function(a){t({type:"CREATE_ASSIGNMENT",payload:e})}).catch(function(e){t(function(e){t({type:"createAssignment",error:"error creating assignment."})})})}}})(M),G=a(20),x=a(84),P=a(85),L=a(87),W={assignments:[]},U={user:{},isAuthenticated:!1},q={team:{}},F={errors:{login:"",register:"",createAssignment:"",createTeam:"",addMember:""},options:{login:{401:"invalid credentials",default:"some error happened while logging you in"},register:{409:"username is already taken",default:"some error happened while creating user"},createAssignment:{default:"error creating assignment"},createTeam:{default:"error creating team"},addMember:{default:"error adding member"}}},H=Object(G.combineReducers)({assignments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ASSIGNMENTS":return Object(_.a)({},e,{assignments:t.payload});case"CREATE_ASSIGNMENT":return Object(_.a)({},e,{assignments:[].concat(Object(L.a)(e.assignments),[t.payload])});case"DELETE_ASSIGNMENT":return Object(_.a)({},e,{assignments:e.assignments.filter(function(e){return e.id!==t.payload})});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":case"REGISTER":return Object(_.a)({},e,{isAuthenticated:!0});case"GET_USER":return Object(_.a)({},e,{user:t.payload});case"SET_AUTHENTICATED":return Object(_.a)({},e,{isAuthenticated:t.payload});case"SET_IS_TEAM_MEMBER":return Object(_.a)({},e,{user:{team_member:t.payload}});default:return e}},teams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TEAM":case"CREATE_TEAM":return Object(_.a)({},e,{team:t.payload});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERROR":return void 0===e.options[t.payload.type][t.payload.status]?Object(_.a)({},e,{errors:Object(j.a)({},t.payload.type,e.options[t.payload.type].default)}):Object(_.a)({},e,{errors:Object(j.a)({},t.payload.type,e.options[t.payload.type][t.payload.status])});default:return e}}}),J=[P.a],B=Object(G.createStore)(H,{},Object(x.composeWithDevTools)(G.applyMiddleware.apply(void 0,J))),V=(a(123),function(e){return void 0===e.members?null:r.a.createElement("ul",null,e.members.map(function(e){return r.a.createElement(Y,{name:e.username})}))}),Y=function(e){return r.a.createElement("li",null,r.a.createElement("p",null,e.name))},z=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={form:{username:""},createTeamForm:{name:""}},a.handleChange=a.handleChange.bind(Object(h.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a.createTeamChange=a.createTeamChange.bind(Object(h.a)(a)),a.createTeamSubmit=a.createTeamSubmit.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.getTeam()}},{key:"handleChange",value:function(e){this.setState({form:Object(j.a)({},e.target.id,e.target.value)})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.addUserToTeam(this.state.form.username)}},{key:"createTeamChange",value:function(e){this.setState({createTeamForm:Object(j.a)({},e.target.id,e.target.value)})}},{key:"createTeamSubmit",value:function(e){e.preventDefault(),this.props.createTeam(this.state.createTeamForm.name)}},{key:"render",value:function(){return this.props.isTeamMember?void 0!==this.props.team.team?r.a.createElement("div",null,r.a.createElement("h3",{className:"container-headline"},"team -",r.a.createElement("span",{style:{color:"black"}},this.props.team.team.name," by user #",this.props.team.team.owner)),r.a.createElement("div",{className:"team-members"},r.a.createElement(V,{members:this.props.team.members})),r.a.createElement("div",{className:"add-user-form"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",id:"username",onChange:this.handleChange}),r.a.createElement("input",{type:"submit"})))):r.a.createElement("div",null,r.a.createElement("h3",{className:"container-headline"},"loading...")):r.a.createElement("div",{className:"TeamText"},r.a.createElement("h3",{className:"container-headline"},"you are not part of a team."),r.a.createElement("br",null),r.a.createElement("p",null,"loneliness is unhealthy. join a team or create one yourself. ",r.a.createElement("br",null),"(\u3064 \u0361\xb0 \u035c\u0296 \u0361\xb0)\u3064"),r.a.createElement("div",{className:"teamForm"},r.a.createElement("form",{onSubmit:this.createTeamSubmit},r.a.createElement("input",{placeholder:"\xa0enter a name for your team",id:"name",onChange:this.createTeamChange}),r.a.createElement("input",{type:"submit",value:"submit"}))))}}]),t}(n.Component),K={getTeam:function(){return function(e){g.a.get(ue+"/team/",{withCredentials:!0}).then(function(t){e({type:"GET_TEAM",payload:t.data})})}},addUserToTeam:function(e){return function(t){g.a.post(ue+"/team/addMember/",JSON.stringify(e),{withCredentials:!0}).then(function(e){t({type:"ADD_USER_TO_TEAM",payload:e.data})}).catch(function(e){t({type:"addMember",error:"error adding user to team."})})}},createTeam:function(e){return function(t){g.a.post(ue+"/team/",JSON.stringify({name:e}),{withCredentials:!0}).then(function(e){console.log(e.data),t({type:"CREATE_TEAM",payload:e.data}),B.dispatch({type:"SET_IS_TEAM_MEMBER",payload:!0})}).catch(function(e){t({type:"createTeam",error:"error creating team."})})}}},$=Object(d.b)(function(e){return{team:e.teams.team,isTeamMember:e.auth.user.team_member}},K)(z),Q=a(42),X=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={dataluuuuuv:{label:"foo"}},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){console.log(e.assignments);var t=this.aggregate(e.assignments);console.log(Object.keys(t)),this.setState({chartData:{labels:Object.keys(t),datasets:[{label:"subject",data:Object.values(t),backgroundColor:["rgba(255, 99, 132, 0.6)","rgba(54, 162, 235, 0.6)","rgba(255, 206, 86, 0.6)","rgba(75, 192, 192, 0.6)","rgba(153, 102, 255, 0.6)","rgba(255, 159, 64, 0.6)","rgba(255, 99, 132, 0.6)"]}]}}),console.log(this.state)}},{key:"aggregate",value:function(e){var t={};return e.forEach(function(e){void 0!==t[e.subject]?t[e.subject]++:t[e.subject]=1}),t}},{key:"render",value:function(){return r.a.createElement(Q.a,{className:"",data:this.state.chartData,options:{scales:{yAxes:[{ticks:{min:0}}]}}})}}]),t}(n.Component),Z=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={chartData:{labels:[],datasets:[{label:"author",data:[],backgroundColor:["rgba(255, 99, 132, 0.6)","rgba(54, 162, 235, 0.6)","rgba(255, 206, 86, 0.6)","rgba(75, 192, 192, 0.6)","rgba(153, 102, 255, 0.6)","rgba(255, 159, 64, 0.6)","rgba(255, 99, 132, 0.6)"]}]}},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){console.log(e.assignments);var t=this.aggregate(e.assignments);console.log(Object.keys(t)),this.setState({chartData:{labels:Object.keys(t),datasets:[{data:Object.values(t),backgroundColor:["rgba(255, 99, 132, 0.6)","rgba(54, 162, 235, 0.6)","rgba(255, 206, 86, 0.6)","rgba(75, 192, 192, 0.6)","rgba(153, 102, 255, 0.6)","rgba(255, 159, 64, 0.6)","rgba(255, 99, 132, 0.6)"]}]}}),console.log(this.state)}},{key:"aggregate",value:function(e){var t={};return e.forEach(function(e){void 0!==t[e.author_name]?t[e.author_name]++:t[e.author_name]=1}),t}},{key:"render",value:function(){return r.a.createElement(Q.b,{data:this.state.chartData,options:{scales:{yAxes:[{ticks:{min:0}}]}}})}}]),t}(n.Component);function ee(e){var t=[],a=!0,n=!1,s=void 0;try{for(var i,l=e.errors[Symbol.iterator]();!(a=(i=l.next()).done);a=!0){var o=i.value;o&&t.push(o)}}catch(c){n=!0,s=c}finally{try{a||null==l.return||l.return()}finally{if(n)throw s}}return t.length>0?r.a.createElement("div",{className:"errors"},t.map(function(e){return r.a.createElement(y,{title:"error",text:e,timeout:"5"})})):null}function te(e){return e.assignments.length>0?r.a.createElement("div",{className:e.classIdentifier},r.a.createElement("h3",null,e.title),r.a.createElement("ul",null,e.assignments.map(function(e){return r.a.createElement("li",{key:e.text},r.a.createElement("div",{className:"white"},r.a.createElement("b",null,e.subject),r.a.createElement("p",null,e.text)))}))):null}var ae=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={assignmentGroups:[],countColor:[],outstandingAssiggnments:0,errors:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"dateIsEqual",value:function(e,t){return e=new Date(e),t=new Date(t),e.getYear()===t.getYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(this.setState({outstandingAssiggnments:0,errors:e.errors}),console.log("props: ".concat(e)),!1!==e.isAuthenticated){var a=[],n=!0,r=!1,s=void 0;try{for(var i,l=function(){var e=i.value,n=Date.parse(new Date(e.due_date)),r=Date.now();if(n<r-864e5)return"continue";t.setState({outstandingAssiggnments:t.state.outstandingAssiggnments+1});var s=a.findIndex(function(e){return e.date===n});-1===s?a.push({date:n,assignments:[e]}):a[s].assignments.push(e)},o=e.assignments[Symbol.iterator]();!(n=(i=o.next()).done);n=!0)l()}catch(p){r=!0,s=p}finally{try{n||null==o.return||o.return()}finally{if(r)throw s}}for(var c=0,u=0,m=a;u<m.length;u++){var h=m[u];if(this.dateIsEqual(h.date,Date.now()))a[c].title="today",a[c].classIdentifier="wrapper-today";else if(this.dateIsEqual(h.date,Date.now()+864e5))a[c].title="tomorrow",a[c].classIdentifier="wrapper-tomorrow";else{var d=new Date(parseInt(h.date));a[c].title="".concat(d.getDate(),".").concat(d.getMonth()+1,".").concat(d.getFullYear()),a[c].classIdentifier="wrapper-future"}c++}this.setState({assignmentGroups:a.sort(function(e,t){return e.date-t.date})})}else this.props.history.push("/login/")}},{key:"componentDidMount",value:function(){this.props.getAssignments(),this.props.getUser()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"dashboardHeadline"},"dashboard"),r.a.createElement("div",{className:"dashboard"},r.a.createElement(ee,{errors:Object.values(this.state.errors)}),r.a.createElement("h2",{className:"greeting"},"hi, ",r.a.createElement("u",null,this.props.user.username),"!"),r.a.createElement("div",{className:"container"},r.a.createElement("h3",{className:"container-headline"},"assignments due: \xa0",r.a.createElement("span",null,this.state.outstandingAssiggnments)),r.a.createElement("div",{className:"wrapper"},Object.values(this.state.assignmentGroups).map(function(e){return r.a.createElement(te,{key:e.date,assignments:e.assignments,title:e.title,classIdentifier:e.classIdentifier})}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"container assignment-form"},r.a.createElement(I,null)),r.a.createElement("div",{className:"container team"},r.a.createElement($,null))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"container"},r.a.createElement(X,{assignments:this.props.assignments})),r.a.createElement("div",{className:"container"},r.a.createElement(Z,{assignments:this.props.assignments})))))}}]),t}(n.Component),ne=Object(d.b)(function(e){return{assignments:e.assignments.assignments,isAuthenticated:e.auth.isAuthenticated,user:e.auth.user,errors:e.errors.errors}},{getAssignments:function(){return function(e){fetch(ue+"/assignment/",{credentials:"include"}).then(function(e){return e.json()}).then(function(t){e({type:"GET_ASSIGNMENTS",payload:t})}).catch(function(e){return console.log(e)})}},deleteAssignment:function(e){return function(t){g.a.delete("https://api.3nt3.de/assignment/".concat(e.id,"/")).then(function(a){console.log(e),t({type:"DELETE_ASSIGNMENT",payload:e.id})}).catch(function(e){return console.log(e)})}},getUser:function(){return function(e){g.a.get(ue+"/user/",{withCredentials:!0}).then(function(t){e({type:"GET_USER",payload:t.data})})}}})(Object(f.b)(ae)),re=a(21),se=(a(215),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"lol"},r.a.createElement("footer",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(b.b,{to:"/contact"},"contact")),r.a.createElement("li",null,"report bugs / some kinda issues"))))}}]),t}(n.Component)),ie=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setAuthenticated(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.setAuthenticated(e)}},{key:"setAuthenticated",value:function(e){var t=e.cookies.get("session");console.log("authenticated: ".concat(void 0!==t)),void 0!==t&&this.props.setAuthenticated(!0)}},{key:"render",value:function(){return r.a.createElement(f.a,null,r.a.createElement(b.a,null,r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"content"},r.a.createElement(v,null),r.a.createElement(re.c,null,r.a.createElement(re.a,{path:"/",exact:!0,component:O}),r.a.createElement(re.a,{path:"/login",component:C}),r.a.createElement(re.a,{path:"/register",component:D}),r.a.createElement(re.a,{path:"/dashboard",component:ne}),r.a.createElement(re.a,{path:"/contact",component:n.Component}))),r.a.createElement(se,null))))}}]),t}(n.Component),le=Object(f.b)(Object(d.b)(null,{setAuthenticated:function(e){return function(t){t({type:"SET_AUTHENTICATED",payload:e})}}})(ie)),oe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ce(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}a.d(t,"API_HOST",function(){return ue});var ue="http://localhost:8000";i.a.render(r.a.createElement(d.a,{store:B},r.a.createElement(le,null)),document.getElementById("app")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");oe?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ce(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):ce(t,e)})}}()},34:function(e,t,a){},88:function(e,t,a){e.exports=a(216)},93:function(e,t,a){}},[[88,1,2]]]);
//# sourceMappingURL=main.2112463a.chunk.js.map